(self.webpackChunktfin_ui_project_template=self.webpackChunktfin_ui_project_template||[]).push([[982],{7757:function(e,t,n){e.exports=n(9727)},1368:function(e,t,n){"use strict";n.r(t);var o=n(2672),a=n.n(o),s=n(1250),r=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),o(e),a(e),s(e),r(e)}))},i=n(7757),c=n.n(i),l=n(5861),h=n(1413),u=n(4925),p=n(5671),d=n(3144),g=n(9340),C=n(5716),f=n(1694),v=n.n(f),w=n(3856),Z=n(5995),P=n(2249),x=n(1386),k=n(5989),m=(n(2336),n(3703)),S=n(9709),b=n(9555),y=n(8598),j=n(8413),E=n(3501),T=n(184),I=["contextCls"],W=["contextCls"],A=["contextCls"],L=["contextCls"],M=["contextCls"],D=["contextCls"],R=["isAgentOnline","isSuccess","errors"];(0,w.YV)({defaultTranslations:{"en-US":function(){return n.e(661).then(n.t.bind(n,6661,19))}},partnerId:"walmart",shouldLoadStrings:!1});var _=function(e){(0,g.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,p.Z)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={shouldShowPage:b.Z.ChoosePage},e.renderHoopWindow=function(){var t=e.props,n=t.contextCls,o=(0,u.Z)(t,I),a=e.state.chatConfigs;return(0,T.jsx)(x.Z,(0,h.Z)((0,h.Z)({contextCls:v()(e.baseCls,n),hoop:a.hoop,isLeaveAgentMessageEnabled:a.isLeaveAgentMessageEnabled},o),a))},e.renderChooseOptionWindow=function(){var t=e.props,n=t.contextCls,o=(0,u.Z)(t,W),a=e.state.chatConfigs;return(0,T.jsx)(Z.Z,(0,h.Z)((0,h.Z)({contextCls:v()(e.baseCls,n),ewt:a.ewt,onPageSwitch:e.handlePageSwitch},o),a))},e.renderErrorPage=function(){var t=e.props,n=t.contextCls,o=(0,u.Z)(t,A);return(0,T.jsx)(P.Z,(0,h.Z)({contextCls:v()(e.baseCls,n),icon:"WarningAlert",windowTitle:"Chat with an agent",headText:"There was a problem connecting to chat support",subText:"Please try again later."},o))},e.renderLeaveMessagePage=function(){var t=e.props,n=t.contextCls,o=(0,u.Z)(t,L);return(0,T.jsx)(y.Z,(0,h.Z)({contextCls:v()(e.baseCls,n),shouldShowEmailInput:!e.isLoggedIn},o))},e.renderConnectingPage=function(){var t=e.props,n=t.contextCls,o=(0,u.Z)(t,M);return(0,T.jsx)(j.Z,(0,h.Z)({contextCls:v()(e.baseCls,n),shouldShowMinimizeBtn:!0,onPageSwitch:e.handlePageSwitch},o))},e.renderChatWindowPage=function(){var t=e.props,n=t.contextCls,o=(0,u.Z)(t,D);return(0,T.jsx)(E.Z,(0,h.Z)({contextCls:v()(e.baseCls,n),shouldShowEmailInput:!e.isLoggedIn,onPageSwitch:e.handlePageSwitch},o))},e.handlePageSwitch=function(t){e.setState({shouldShowPage:t})},e.baseCls="web-chat-module",e}return(0,d.Z)(n,[{key:"render",value:function(){var e=this.state,t=e.isDesignTokenApplied,n=e.chatConfigs,o=this.props.isI18nReady;return t&&o&&n&&this.renderContent()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.accessToken,n=e.applicationId,o=e.prefixAPIUrl;t&&(S.Z.accessToken=t),n&&(S.Z.applicationId=n),o&&(S.Z.prefixAPIUrl=o),this.setContainerElementStyle(),this.fetchConfig(),this.applyDesignToken()}},{key:"componentWillUnmount",value:function(){this.restoreContainerElementStyle()}},{key:"renderContent",value:function(){var e;switch(this.state.shouldShowPage){case b.Z.ChoosePage:e=this.renderChooseOptionWindow();break;case b.Z.HoopPage:e=this.renderHoopWindow();break;case b.Z.ErrorPage:e=this.renderErrorPage();break;case b.Z.ChatWindowPage:e=this.renderChatWindowPage();break;case b.Z.LeavePage:e=this.renderLeaveMessagePage();break;case b.Z.ConnectingPage:e=this.renderConnectingPage()}return e}},{key:"fetchConfig",value:function(){var e=(0,l.Z)(c().mark((function e(){var t,n,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,k.Z.getChatConfig();case 4:n=e.sent,o=n.isAgentOnline,n.isSuccess,n.errors,a=(0,u.Z)(n,R),t.chatConfigs=a,t.shouldShowPage=!0===o?b.Z.ChoosePage:!1===o?b.Z.HoopPage:b.Z.ErrorPage,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.shouldShowPage=b.Z.ErrorPage;case 13:return e.prev=13,this.setState(t),e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"applyDesignToken",value:function(){var e=(0,l.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.brand,e.next=4,m.Z.import(t);case 4:this.setState({isDesignTokenApplied:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.debug(e.t0.message);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"setContainerElementStyle",value:function(){var e=this.props.containerElement;e&&(this.setState({originContainerElementPosition:e.style.position}),e.style.position="relative")}},{key:"restoreContainerElementStyle",value:function(){var e=this.props.containerElement,t=this.state.originContainerElementPosition;e&&t&&(e.style.position=t)}}]),n}(o.PureComponent);_.defaultProps={onChatWidgetClose:function(){return Promise.resolve()}};var F=(0,w.Zh)(_);var H=document.getElementById("root");s.createRoot(H).render((0,T.jsxs)(a().StrictMode,{children:[(0,T.jsx)("div",{children:"Test Widget Page, when invoke the wiget, we should expose the ChatModule only and set the containerElement to which element in the existing page"}),(0,T.jsx)(F,{containerElement:H,accessToken:"ajkdjkljaklsjdfkljaklsdjfljksdajlf",brand:"go2bank",accountIdentifier:"adjkajsdlfjlkajsd",onChatWidgetClose:function(){console.log("Chat window has been closed")},applicationId:"10001",email:"ewang2@greendotcorp.com"})]})),r()},1250:function(e,t,n){"use strict";var o=n(4556);t.createRoot=o.createRoot,t.hydrateRoot=o.hydrateRoot}}]);
//# sourceMappingURL=982.336d19c6.chunk.js.map